# movie_classfier plugin for SJVA
## 기본 기능
- SJVA의 영화처리 후 저장된 경로를 탐색하여 파일명이나 영화정보(장르, 국가, 연도, 관람등급)를 기반으로 파일 재분류
- 기초데이터는 sjva.db 의 plugin_fileprocess_movie_item 의 movie_more_info 기준

- 스케쥴러에 의한 동작 시 최근 동작한 이후 SJVA에 의해 처리된 데이터를 대상으로 함
- 1회 실행시 시간체크 무시함, SJVA에 의해 처리된 전체 데이터를 대상으로 함(이미 원본 파일/폴더가 없어진 경우 무시함)
- 테스트 실행시 시간체크 무시함, 실제 파일을 이동하지 않고 처리 결과만 

## 플러그인용 설정 샘플 - 영화정보 기반
- "[검색조건], [이동폴더명]" 형태로 지정, 항목구분은 엔터, 대소문자 구분안함
- 검색조건이 여러개인 경우 ex) 한국 멜로 영화 는 '한국|멜로'와 같이 적용 
- 검색조건을 모두 만족해야 매칭됨(무조건 AND조건)
- 정규표현식 적용 가능, 단, 검색조건내 구분자(|) 내 항목에만 적용
- 지정한 순서대로 매칭, 이동처리함

### 국가별로 분류 예시 
```
한국,korea
미국,usa
중국,asia
홍콩,asia
일본,asia
```
- '한국'을 포함하는 경우 korea, '미국'을 포함하는 경우 usa 폴더로 이동 
- '중국' or '홍콩' or, '일본' 을 포함하는 경우 asia 폴더로 이동 

### 연도별 분류 예시
```
198[0-9][.], 1980-1989
199[0-9][.], 1990-1999
200[0-9][.], 2000-2009
201[0-9][.], 2010-2019
```
- 10년 단위로 영화 분류, 1981년 영화는 '1980-1989'폴더로 이동
- 파일명조건과 영화정보 조건에 모두 사용할 수 있음

### 장르별/등급별 분류 예시

```
애니메이션|전체관람가, child
애니메이션|12세, child
가족|전체관람가, child
로멘스/멜로|관람불가, adult
```
- 애니메이션이나 가족영화 child 폴더로 이동
- 성인영화 (로멘스멜로 + 청소년 관람불가) adult 폴더로 이동

## 플러그인 설정용 샘플 - 파일명 기반 
- "[검색조건], [이동폴더명]" 형태로 지정, 항목구분은 엔터, 대소문자 구분안함
- 검색조건 내 '|'는 OR 조건 '&'는 AND 조건
- 정규표현식 적용 가능, 단, 검색조건내 구분자(|) 내 항목에만 적용
- 지정한 순서대로 매칭, 이동처리함

## 파일명 기반 영화 분류 예시
```
4K&REMUX|UHD&REMUX|2160p&REMUX, 4K-REMUX
REMUX, FHD-REMUX
DTS, DTS
KORDUB|DUB, DUBBING
RARBG, RARBG
201[0-9][.], 2010
```
- 파일명에 REMUX와 4K or UHD or 2160p를 포함하는 경우 '4K-REMUX' 폴더로 이동
- 파일명에 Remux를 포함하는 경우 FHD-REMUX 폴더로 이동(우선순위에 따라 4K Remux 먼저 처리)
- 파일명에 DTS를 포함하는 경우 영화는 DTS폴더로 이동 (우선순위에 따라 4K-REMUX-DTS영화는 4K-REMUX로 이동됨)
- 파일명에 Kordub, dub 포함하는 경우 'DUBBING' 폴더로 이동
- 파일명에 RARBG를 포함하는 경우 'RARBG'폴더로 이동 
- 파일명 기준으로 2010~2019를 포함하는 경우 '2010'폴더로 이동
